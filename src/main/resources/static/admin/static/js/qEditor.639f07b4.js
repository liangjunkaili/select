webpackJsonp([0],{"/BOb":function(t,exports){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"quill-editor",style:t.cssStyle},[t._t("toolbar"),t._v(" "),i("div",{ref:"editor"}),t._v(" "),i("input",{ref:"input",staticStyle:{display:"none"},attrs:{type:"file"}}),t._v(" "),i("el-dialog",{attrs:{"modal-append-to-body":!1,title:"资源上传",visible:t.upload,"close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1},on:{"update:visible":function(e){t.upload=e}}},[i("div",{staticClass:"text-center"},[i("el-progress",{attrs:{type:"circle",percentage:t.percent}}),t._v(" "),i("br"),t._v(" "),i("span",{staticClass:"bold"},[t._v("上传进度")])],1)])],2)},staticRenderFns:[]}},CUWM:function(t,exports,e){exports=t.exports=e("FZ+f")(!1),exports.push([t.i,".quill-editor{width:400px;height:696px;margin:0 auto}.quill-editor .ql-toolbar{line-height:24px}.quill-editor .ql-container{height:600px;font-size:16px;font-family:PingFangSC,Microsoft YaHei,Arial,Helvetica,sans-serif}.quill-editor .ql-editor{overflow-y:scroll}.quill-editor img{display:inline-block}",""])},GB5g:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("mvHQ"),l=i.n(n),o=i("woOf"),s=i.n(o),r=i("yPE/"),a=i.n(r),u=i("4qOc"),c=(i.n(u),window.Quill||a.a),d={theme:"snow",boundary:document.body,modules:{toolbar:[["bold","italic","underline","strike",{font:[]},{color:[]},{background:[]}],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{align:[]}],["clean"],["link","image"]]},placeholder:"请输入内容",readOnly:!1},h=null;e.default={name:"qEditor",data:function(){var t=this;return h=i.e(1).then(function(require){return i("JyLo")}.bind(null,i)).catch(i.oe),h.then(function(e){h=e.default,t.quill&&(t._disabled=!1)}),{_options:{},_content:"",_disabled:!0,upload:!1,percent:0}},props:{content:String,value:String,disabled:Boolean,options:{type:Object,required:!1,default:function(){return{}}},path:{type:String,required:!0},cssStyle:{required:!1,type:Object,default:function(){return{}}}},mounted:function(){this.initialize()},beforeDestroy:function(){this.quill=null,delete this.quill,this._input=null,delete this._input},methods:{initialize:function(){var t=this;this.$el&&(this._options=s()({},d,this.options),this.quill=new c(this.$refs.editor,this._options),(this.value||this.content)&&this.quill.pasteHTML(this.value||this.content),this.disabled&&this.quill.enable(!1),this.quill.on("selection-change",function(e){e?t.$emit("focus",t.quill):t.$emit("blur",t.quill)}),this.quill.on("text-change",function(e,i,n){var l=t.$refs.editor.children[0].innerHTML,o=t.quill,s=t.quill.getText();"<p><br></p>"===l&&(l=""),t._content=l,t.$emit("input",t._content),t.$emit("change",{html:l,text:s,quill:o})}),this.addImage(),h&&(this._disabled=!1),this.$emit("ready",this.quill))},addImage:function(){var t=this,e=this.quill.getModule("toolbar");this._input=this.$refs.input,e.addHandler("image",function(e){t._input.click()}),this._input.addEventListener("change",function(e){var i=t.quill.getSelection();if(!i)return void t.$message.warning("请先将焦点放在editor中");var n=e.target.files[0];return n&&/^image\//.test(n.type)?n.size/1048576>=1?void t.$message.error("上传图片的大小不能超过1M"):(t.upload=!0,t.percent=0,void h.uploadF(n,function(e){t._hideDialog(),0===e.code?t.quill.insertEmbed(i.index,"image",e.data.source_url):t.$message.error("资源"+n.name+"上传失败，原因是："+e.message)},function(e){t._hideDialog(),t.$message.error("资源"+n.name+"上传失败，原因是："+l()(e))},function(e){t.percent=100*e},t.path)):void t.$message.error("请上传图片类型的文件")}),e=null},_hideDialog:function(){var t=this;setTimeout(function(){t.upload=!1},200),this._input.value=""}},watch:{content:function(t,e){this.quill&&(t&&t!==this._content?(this._content=t,this.quill.pasteHTML(t)):t||this.quill.setText(""))},value:function(t,e){this.quill&&(t&&t!==this._content?(this._content=t,this.quill.pasteHTML(t)):t||this.quill.setText(""))},disabled:function(t,e){this.quill&&this.quill.enable(!t)}}}},Iamb:function(t,exports,e){var i=e("CUWM");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);e("rjj0")("26021ed2",i,!0,{})},WmHX:function(t,exports,e){function i(t){e("Iamb")}var n=e("VU/8")(e("GB5g"),e("/BOb"),i,null,null);t.exports=n.exports}});
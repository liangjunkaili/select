webpackJsonp([1],{Hrtn:function(e,exports,t){var n=n||function(e,t){var n={},r=n.lib={},a=function(){},i=r.Base={extend:function(e){a.prototype=this;var t=new a;return e&&t.mixIn(e),t.hasOwnProperty("init")||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},o=r.WordArray=i.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=void 0!=t?t:4*e.length},toString:function(e){return(e||c).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes;if(e=e.sigBytes,this.clamp(),r%4)for(var a=0;a<e;a++)t[r+a>>>2]|=(n[a>>>2]>>>24-a%4*8&255)<<24-(r+a)%4*8;else if(65535<n.length)for(a=0;a<e;a+=4)t[r+a>>>2]=n[a>>>2];else t.push.apply(t,n);return this.sigBytes+=e,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=i.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var n=[],r=0;r<t;r+=4)n.push(4294967296*e.random()|0);return new o.init(n,t)}}),s=n.enc={},c=s.Hex={stringify:function(e){var t=e.words;e=e.sigBytes;for(var n=[],r=0;r<e;r++){var a=t[r>>>2]>>>24-r%4*8&255;n.push((a>>>4).toString(16)),n.push((15&a).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new o.init(n,t/2)}},u=s.Latin1={stringify:function(e){var t=e.words;e=e.sigBytes;for(var n=[],r=0;r<e;r++)n.push(String.fromCharCode(t[r>>>2]>>>24-r%4*8&255));return n.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new o.init(n,t)}},l=s.Utf8={stringify:function(e){try{return decodeURIComponent(escape(u.stringify(e)))}catch(e){throw Error("Malformed UTF-8 data")}},parse:function(e){return u.parse(unescape(encodeURIComponent(e)))}},p=r.BufferedBlockAlgorithm=i.extend({reset:function(){this._data=new o.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=l.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n=this._data,r=n.words,a=n.sigBytes,i=this.blockSize,s=a/(4*i),s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0);if(t=s*i,a=e.min(4*t,a),t){for(var c=0;c<t;c+=i)this._doProcessBlock(r,c);c=r.splice(0,t),n.sigBytes-=a}return new o.init(c,a)},clone:function(){var e=i.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});r.Hasher=p.extend({cfg:i.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){p.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new f.HMAC.init(e,n).finalize(t)}}});var f=n.algo={};return n}(Math);!function(){var e=n,t=e.lib,r=t.WordArray,a=t.Hasher,i=[],t=e.algo.SHA1=a.extend({_doReset:function(){this._hash=new r.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],a=n[1],o=n[2],s=n[3],c=n[4],u=0;80>u;u++){if(16>u)i[u]=0|e[t+u];else{var l=i[u-3]^i[u-8]^i[u-14]^i[u-16];i[u]=l<<1|l>>>31}l=(r<<5|r>>>27)+c+i[u],l=20>u?l+(1518500249+(a&o|~a&s)):40>u?l+(1859775393+(a^o^s)):60>u?l+((a&o|a&s|o&s)-1894007588):l+((a^o^s)-899497514),c=s,s=o,o=a<<30|a>>>2,a=r,r=l}n[0]=n[0]+r|0,n[1]=n[1]+a|0,n[2]=n[2]+o|0,n[3]=n[3]+s|0,n[4]=n[4]+c|0},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[14+(r+64>>>9<<4)]=Math.floor(n/4294967296),t[15+(r+64>>>9<<4)]=n,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=a.clone.call(this);return e._hash=this._hash.clone(),e}});e.SHA1=a._createHelper(t),e.HmacSHA1=a._createHmacHelper(t)}(),function(){var e=n,t=e.enc.Utf8;e.algo.HMAC=e.lib.Base.extend({init:function(e,n){e=this._hasher=new e.init,"string"==typeof n&&(n=t.parse(n));var r=e.blockSize,a=4*r;n.sigBytes>a&&(n=e.finalize(n)),n.clamp();for(var i=this._oKey=n.clone(),o=this._iKey=n.clone(),s=i.words,c=o.words,u=0;u<r;u++)s[u]^=1549556828,c[u]^=909522486;i.sigBytes=o.sigBytes=a,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher;return e=t.finalize(e),t.reset(),t.finalize(this._oKey.clone().concat(e))}})}(),window.CryptoJS=n,function(){var e=n,t=e.lib,r=t.WordArray,a=e.enc;a.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp();for(var a=[],i=0;i<n;i+=3)for(var o=t[i>>>2]>>>24-i%4*8&255,s=t[i+1>>>2]>>>24-(i+1)%4*8&255,c=t[i+2>>>2]>>>24-(i+2)%4*8&255,u=o<<16|s<<8|c,l=0;l<4&&i+.75*l<n;l++)a.push(r.charAt(u>>>6*(3-l)&63));var p=r.charAt(64);if(p)for(;a.length%4;)a.push(p);return a.join("")},parse:function(e){var t=e.length,n=this._map,a=n.charAt(64);if(a){var i=e.indexOf(a);-1!=i&&(t=i)}for(var o=[],s=0,c=0;c<t;c++)if(c%4){var u=n.indexOf(e.charAt(c-1))<<c%4*2,l=n.indexOf(e.charAt(c))>>>6-c%4*2;o[s>>>2]|=(u|l)<<24-s%4*8,s++}return r.create(o,s)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),e.exports=n},JyLo:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("fx4B"),a=n.n(r),i=(n("eOoE"),n("Hrtn")),o=n.n(i),s="AKIDyZeEbSIH02M4M4LNFRi3OVDqz1AvgAeU",c="feliNXkUxDX8DUa5AcndmQtURBVWxaAp",u=new a.a({appid:"10040507",bucket:"qinmi",region:"sh",getAppSign:function(e){var t=this,n=parseInt(Math.random()*Math.pow(2,32)),r=parseInt(Date.now()/1e3),a=r+600,i="a="+t.appid+"&k="+s+"&e="+a+"&t="+r+"&r="+n+"&f=&b="+t.bucket,u=o.a.HmacSHA1(i,c),l=o.a.enc.Utf8.parse(i);e(u.concat(l).toString(o.a.enc.Base64))},getAppSignOnce:function(e){var t=this,n=parseInt(Math.random()*Math.pow(2,32)),r=parseInt(Date.now()/1e3),a=t.path,i="a="+t.appid+"&k="+s+"&e=0&t="+r+"&r="+n+"&f="+a+"&b="+t.bucket,u=o.a.HmacSHA1(i,c),l=o.a.enc.Utf8.parse(i);e(u.concat(l).toString(o.a.enc.Base64))}});u.uploadF=function(e,t,n,r,a){a=a||"/subject/ceshi/",u.uploadFile(t,n,r,"qinmi",a+(new Date).valueOf()+e.name,e,1,function(){})},t.default=u},fx4B:function(e,exports,t){!function(){var t=function(){function e(e){var t=e.length,n=k.type(e);return"function"!==n&&!k.isWindow(e)&&(!(1!==e.nodeType||!t)||"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function t(e){var t=P[e]={};return k.each(e.match(L)||[],function(e,n){t[n]=!0}),t}function n(){H.addEventListener?(H.removeEventListener("DOMContentLoaded",r,!1),window.removeEventListener("load",r,!1)):(H.detachEvent("onreadystatechange",r),window.detachEvent("onload",r))}function r(){(H.addEventListener||"load"===event.type||"complete"===H.readyState)&&(n(),k.ready())}function a(e,t,n){if(void 0===n&&1===e.nodeType){var r="data-"+t.replace(I,"-$1").toLowerCase();if("string"==typeof(n=e.getAttribute(r))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:M.test(n)?k.parseJSON(n):n)}catch(e){}k.data(e,t,n)}else n=void 0}return n}function i(e){var t;for(t in e)if(("data"!==t||!k.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function o(e,t,n,r){if(k.acceptData(e)){var a,i,o=k.expando,s=e.nodeType,c=s?k.cache:e,u=s?e[o]:e[o]&&o;if(u&&c[u]&&(r||c[u].data)||void 0!==n||"string"!=typeof t)return u||(u=s?e[o]=m.pop()||k.guid++:o),c[u]||(c[u]=s?{}:{toJSON:k.noop}),"object"!=typeof t&&"function"!=typeof t||(r?c[u]=k.extend(c[u],t):c[u].data=k.extend(c[u].data,t)),i=c[u],r||(i.data||(i.data={}),i=i.data),void 0!==n&&(i[k.camelCase(t)]=n),"string"==typeof t?null==(a=i[t])&&(a=i[k.camelCase(t)]):a=i,a}}function s(e,t,n){if(k.acceptData(e)){var r,a,o=e.nodeType,s=o?k.cache:e,c=o?e[k.expando]:k.expando;if(s[c]){if(t&&(r=n?s[c]:s[c].data)){k.isArray(t)?t=t.concat(k.map(t,k.camelCase)):t in r?t=[t]:(t=k.camelCase(t),t=t in r?[t]:t.split(" ")),a=t.length;for(;a--;)delete r[t[a]];if(n?!i(r):!k.isEmptyObject(r))return}(n||(delete s[c].data,i(s[c])))&&(o?k.cleanData([e],!0):j.deleteExpando||s!=s.window?delete s[c]:s[c]=null)}}}function c(){return!0}function u(){return!1}function l(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,a=0,i=t.toLowerCase().match(L)||[];if(k.isFunction(n))for(;r=i[a++];)"+"===r.charAt(0)?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function p(e,t,n,r){function a(s){var c;return i[s]=!0,k.each(e[s]||[],function(e,s){var u=s(t,n,r);return"string"!=typeof u||o||i[u]?o?!(c=u):void 0:(t.dataTypes.unshift(u),a(u),!1)}),c}var i={},o=e===se;return a(t.dataTypes[0])||!i["*"]&&a("*")}function f(e,t){var n,r,a=k.ajaxSettings.flatOptions||{};for(r in t)void 0!==t[r]&&((a[r]?e:n||(n={}))[r]=t[r]);return n&&k.extend(!0,e,n),e}function d(e,t,n){for(var r,a,i,o,s=e.contents,c=e.dataTypes;"*"===c[0];)c.shift(),void 0===a&&(a=e.mimeType||t.getResponseHeader("Content-Type"));if(a)for(o in s)if(s[o]&&s[o].test(a)){c.unshift(o);break}if(c[0]in n)i=c[0];else{for(o in n){if(!c[0]||e.converters[o+" "+c[0]]){i=o;break}r||(r=o)}i=i||r}if(i)return i!==c[0]&&c.unshift(i),n[i]}function h(e,t,n,r){var a,i,o,s,c,u={},l=e.dataTypes.slice();if(l[1])for(o in e.converters)u[o.toLowerCase()]=e.converters[o];for(i=l.shift();i;)if(e.responseFields[i]&&(n[e.responseFields[i]]=t),!c&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),c=i,i=l.shift())if("*"===i)i=c;else if("*"!==c&&c!==i){if(!(o=u[c+" "+i]||u["* "+i]))for(a in u)if(s=a.split(" "),s[1]===i&&(o=u[c+" "+s[0]]||u["* "+s[0]])){!0===o?o=u[a]:!0!==u[a]&&(i=s[0],l.unshift(s[1]));break}if(!0!==o)if(o&&e.throws)t=o(t);else try{t=o(t)}catch(e){return{state:"parsererror",error:o?e:"No conversion from "+c+" to "+i}}}return{state:"success",data:t}}function g(e,t,n,r){var a;if(k.isArray(t))k.each(t,function(t,a){n||le.test(e)?r(e,a):g(e+"["+("object"==typeof a?t:"")+"]",a,n,r)});else if(n||"object"!==k.type(t))r(e,t);else for(a in t)g(e+"["+a+"]",t[a],n,r)}function v(){try{return new window.XMLHttpRequest}catch(e){}}function y(){try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}var m=[],b=m.slice,x=m.concat,w=m.push,S=m.indexOf,T={},E=T.toString,A=T.hasOwnProperty,j={},_="1.11.1 -css,-css/addGetHookIf,-css/curCSS,-css/defaultDisplay,-css/hiddenVisibleSelectors,-css/support,-css/swap,-css/var/cssExpand,-css/var/isHidden,-css/var/rmargin,-css/var/rnumnonpx,-effects,-effects/Tween,-effects/animatedSelector,-effects/support,-dimensions,-offset,-deprecated,-event-alias,-wrap",k=function(e,t){return new k.fn.init(e,t)},C=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,D=/^-ms-/,F=/-([\da-z])/gi,B=function(e,t){return t.toUpperCase()};k.fn=k.prototype={jquery:_,constructor:k,selector:"",length:0,toArray:function(){return b.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:b.call(this)},pushStack:function(e){var t=k.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return k.each(this,e,t)},map:function(e){return this.pushStack(k.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(b.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:w,sort:m.sort,splice:m.splice},k.extend=k.fn.extend=function(){var e,t,n,r,a,i,o=arguments[0]||{},s=1,c=arguments.length,u=!1;for("boolean"==typeof o&&(u=o,o=arguments[s]||{},s++),"object"==typeof o||k.isFunction(o)||(o={}),s===c&&(o=this,s--);s<c;s++)if(null!=(a=arguments[s]))for(r in a)e=o[r],n=a[r],o!==n&&(u&&n&&(k.isPlainObject(n)||(t=k.isArray(n)))?(t?(t=!1,i=e&&k.isArray(e)?e:[]):i=e&&k.isPlainObject(e)?e:{},o[r]=k.extend(u,i,n)):void 0!==n&&(o[r]=n));return o},k.extend({expando:"jQuery"+(_+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===k.type(e)},isArray:Array.isArray||function(e){return"array"===k.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!k.isArray(e)&&e-parseFloat(e)>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==k.type(e)||e.nodeType||k.isWindow(e))return!1;try{if(e.constructor&&!A.call(e,"constructor")&&!A.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}if(j.ownLast)for(t in e)return A.call(e,t);for(t in e);return void 0===t||A.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?T[E.call(e)]||"object":typeof e},globalEval:function(e){e&&k.trim(e)&&(window.execScript||function(e){window.eval.call(window,e)})(e)},camelCase:function(e){return e.replace(D,"ms-").replace(F,B)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(t,n,r){var a=0,i=t.length,o=e(t);if(r){if(o)for(;a<i&&!1!==n.apply(t[a],r);a++);else for(a in t)if(!1===n.apply(t[a],r))break}else if(o)for(;a<i&&!1!==n.call(t[a],a,t[a]);a++);else for(a in t)if(!1===n.call(t[a],a,t[a]))break;return t},trim:function(e){return null==e?"":(e+"").replace(C,"")},makeArray:function(t,n){var r=n||[];return null!=t&&(e(Object(t))?k.merge(r,"string"==typeof t?[t]:t):w.call(r,t)),r},inArray:function(e,t,n){var r;if(t){if(S)return S.call(t,e,n);for(r=t.length,n=n?n<0?Math.max(0,r+n):n:0;n<r;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){for(var n=+t.length,r=0,a=e.length;r<n;)e[a++]=t[r++];if(n!==n)for(;void 0!==t[r];)e[a++]=t[r++];return e.length=a,e},grep:function(e,t,n){for(var r=[],a=0,i=e.length,o=!n;a<i;a++)!t(e[a],a)!==o&&r.push(e[a]);return r},map:function(t,n,r){var a,i=0,o=t.length,s=e(t),c=[];if(s)for(;i<o;i++)null!=(a=n(t[i],i,r))&&c.push(a);else for(i in t)null!=(a=n(t[i],i,r))&&c.push(a);return x.apply([],c)},guid:1,proxy:function(e,t){var n,r,a;if("string"==typeof t&&(a=e[t],t=e,e=a),k.isFunction(e))return n=b.call(arguments,2),r=function(){return e.apply(t||this,n.concat(b.call(arguments)))},r.guid=e.guid=e.guid||k.guid++,r},now:function(){return+new Date},support:j}),k.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){T["[object "+t+"]"]=t.toLowerCase()});var O,H=window.document,R=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(k.fn.init=function(e,t){var n,r;if(!e)return this;if("string"==typeof e){if(!(n="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:R.exec(e))||!n[1]&&t)return!t||t.jquery?(t||O).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof k?t[0]:t,k.merge(this,k.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:H,!0)),rsingleTag.test(n[1])&&k.isPlainObject(t))for(n in t)k.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}if((r=H.getElementById(n[2]))&&r.parentNode){if(r.id!==n[2])return O.find(e);this.length=1,this[0]=r}return this.context=H,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):k.isFunction(e)?void 0!==O.ready?O.ready(e):e(k):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),k.makeArray(e,this))}).prototype=k.fn,O=k(H);var L=/\S+/g,P={};k.Callbacks=function(e){e="string"==typeof e?P[e]||t(e):k.extend({},e);var n,r,a,i,o,s,c=[],u=!e.once&&[],l=function(t){for(r=e.memory&&t,a=!0,o=s||0,s=0,i=c.length,n=!0;c&&o<i;o++)if(!1===c[o].apply(t[0],t[1])&&e.stopOnFalse){r=!1;break}n=!1,c&&(u?u.length&&l(u.shift()):r?c=[]:p.disable())},p={add:function(){if(c){var t=c.length;!function t(n){k.each(n,function(n,r){var a=k.type(r);"function"===a?e.unique&&p.has(r)||c.push(r):r&&r.length&&"string"!==a&&t(r)})}(arguments),n?i=c.length:r&&(s=t,l(r))}return this},remove:function(){return c&&k.each(arguments,function(e,t){for(var r;(r=k.inArray(t,c,r))>-1;)c.splice(r,1),n&&(r<=i&&i--,r<=o&&o--)}),this},has:function(e){return e?k.inArray(e,c)>-1:!(!c||!c.length)},empty:function(){return c=[],i=0,this},disable:function(){return c=u=r=void 0,this},disabled:function(){return!c},lock:function(){return u=void 0,r||p.disable(),this},locked:function(){return!u},fireWith:function(e,t){return!c||a&&!u||(t=t||[],t=[e,t.slice?t.slice():t],n?u.push(t):l(t)),this},fire:function(){return p.fireWith(this,arguments),this},fired:function(){return!!a}};return p},k.extend({Deferred:function(e){var t=[["resolve","done",k.Callbacks("once memory"),"resolved"],["reject","fail",k.Callbacks("once memory"),"rejected"],["notify","progress",k.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return a.done(arguments).fail(arguments),this},then:function(){var e=arguments;return k.Deferred(function(n){k.each(t,function(t,i){var o=k.isFunction(e[t])&&e[t];a[i[1]](function(){var e=o&&o.apply(this,arguments);e&&k.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[i[0]+"With"](this===r?n.promise():this,o?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?k.extend(e,r):r}},a={};return r.pipe=r.then,k.each(t,function(e,i){var o=i[2],s=i[3];r[i[1]]=o.add,s&&o.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),a[i[0]]=function(){return a[i[0]+"With"](this===a?r:this,arguments),this},a[i[0]+"With"]=o.fireWith}),r.promise(a),e&&e.call(a,a),a},when:function(e){var t,n,r,a=0,i=b.call(arguments),o=i.length,s=1!==o||e&&k.isFunction(e.promise)?o:0,c=1===s?e:k.Deferred(),u=function(e,n,r){return function(a){n[e]=this,r[e]=arguments.length>1?b.call(arguments):a,r===t?c.notifyWith(n,r):--s||c.resolveWith(n,r)}};if(o>1)for(t=new Array(o),n=new Array(o),r=new Array(o);a<o;a++)i[a]&&k.isFunction(i[a].promise)?i[a].promise().done(u(a,r,i)).fail(c.reject).progress(u(a,n,t)):--s;return s||c.resolveWith(r,i),c.promise()}});var z;k.fn.ready=function(e){return k.ready.promise().done(e),this},k.extend({isReady:!1,readyWait:1,holdReady:function(e){e?k.readyWait++:k.ready(!0)},ready:function(e){if(!0===e?!--k.readyWait:!k.isReady){if(!H.body)return setTimeout(k.ready);k.isReady=!0,!0!==e&&--k.readyWait>0||(z.resolveWith(H,[k]),k.fn.triggerHandler&&(k(H).triggerHandler("ready"),k(H).off("ready")))}}}),k.ready.promise=function(e){if(!z)if(z=k.Deferred(),"complete"===H.readyState)setTimeout(k.ready);else if(H.addEventListener)H.addEventListener("DOMContentLoaded",r,!1),window.addEventListener("load",r,!1);else{H.attachEvent("onreadystatechange",r),window.attachEvent("onload",r);var t=!1;try{t=null==window.frameElement&&H.documentElement}catch(e){}t&&t.doScroll&&function e(){if(!k.isReady){try{t.doScroll("left")}catch(t){return setTimeout(e,50)}n(),k.ready()}}()}return z.promise(e)};var N,U="undefined";for(N in k(j))break;j.ownLast="0"!==N,j.inlineBlockNeedsLayout=!1,k(function(){var e,t,n,r;(n=H.getElementsByTagName("body")[0])&&n.style&&(t=H.createElement("div"),r=H.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),typeof t.style.zoom!==U&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",j.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(n.style.zoom=1)),n.removeChild(r))}),function(){var e=H.createElement("div");if(null==j.deleteExpando){j.deleteExpando=!0;try{delete e.test}catch(e){j.deleteExpando=!1}}e=null}(),k.acceptData=function(e){var t=k.noData[(e.nodeName+" ").toLowerCase()],n=+e.nodeType||1;return(1===n||9===n)&&(!t||!0!==t&&e.getAttribute("classid")===t)};var M=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,I=/([A-Z])/g;k.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return!!(e=e.nodeType?k.cache[e[k.expando]]:e[k.expando])&&!i(e)},data:function(e,t,n){return o(e,t,n)},removeData:function(e,t){return s(e,t)},_data:function(e,t,n){return o(e,t,n,!0)},_removeData:function(e,t){return s(e,t,!0)}}),k.fn.extend({data:function(e,t){var n,r,i,o=this[0],s=o&&o.attributes;if(void 0===e){if(this.length&&(i=k.data(o),1===o.nodeType&&!k._data(o,"parsedAttrs"))){for(n=s.length;n--;)s[n]&&(r=s[n].name,0===r.indexOf("data-")&&(r=k.camelCase(r.slice(5)),a(o,r,i[r])));k._data(o,"parsedAttrs",!0)}return i}return"object"==typeof e?this.each(function(){k.data(this,e)}):arguments.length>1?this.each(function(){k.data(this,e,t)}):o?a(o,e,k.data(o,e)):void 0},removeData:function(e){return this.each(function(){k.removeData(this,e)})}}),k.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=k._data(e,t),n&&(!r||k.isArray(n)?r=k._data(e,t,k.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=k.queue(e,t),r=n.length,a=n.shift(),i=k._queueHooks(e,t),o=function(){k.dequeue(e,t)};"inprogress"===a&&(a=n.shift(),r--),a&&("fx"===t&&n.unshift("inprogress"),delete i.stop,a.call(e,o,i)),!r&&i&&i.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return k._data(e,n)||k._data(e,n,{empty:k.Callbacks("once memory").add(function(){k._removeData(e,t+"queue"),k._removeData(e,n)})})}}),k.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?k.queue(this[0],e):void 0===t?this:this.each(function(){var n=k.queue(this,e,t);k._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&k.dequeue(this,e)})},dequeue:function(e){return this.each(function(){k.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,a=k.Deferred(),i=this,o=this.length,s=function(){--r||a.resolveWith(i,[i])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";o--;)(n=k._data(i[o],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),a.promise(t)}}),k.event={global:{},add:function(e,t,n,r,a){var i,o,s,c,u,l,p,f,d,h,g,v=k._data(e);if(v){for(n.handler&&(c=n,n=c.handler,a=c.selector),n.guid||(n.guid=k.guid++),(o=v.events)||(o=v.events={}),(l=v.handle)||(l=v.handle=function(e){return typeof k===U||e&&k.event.triggered===e.type?void 0:k.event.dispatch.apply(l.elem,arguments)},l.elem=e),t=(t||"").match(L)||[""],s=t.length;s--;)i=Y.exec(t[s])||[],d=g=i[1],h=(i[2]||"").split(".").sort(),d&&(u=k.event.special[d]||{},d=(a?u.delegateType:u.bindType)||d,u=k.event.special[d]||{},p=k.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:a,needsContext:a&&k.expr.match.needsContext.test(a),namespace:h.join(".")},c),(f=o[d])||(f=o[d]=[],f.delegateCount=0,u.setup&&!1!==u.setup.call(e,r,h,l)||(e.addEventListener?e.addEventListener(d,l,!1):e.attachEvent&&e.attachEvent("on"+d,l))),u.add&&(u.add.call(e,p),p.handler.guid||(p.handler.guid=n.guid)),a?f.splice(f.delegateCount++,0,p):f.push(p),k.event.global[d]=!0);e=null}},remove:function(e,t,n,r,a){var i,o,s,c,u,l,p,f,d,h,g,v=k.hasData(e)&&k._data(e);if(v&&(l=v.events)){for(t=(t||"").match(L)||[""],u=t.length;u--;)if(s=Y.exec(t[u])||[],d=g=s[1],h=(s[2]||"").split(".").sort(),d){for(p=k.event.special[d]||{},d=(r?p.delegateType:p.bindType)||d,f=l[d]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),c=i=f.length;i--;)o=f[i],!a&&g!==o.origType||n&&n.guid!==o.guid||s&&!s.test(o.namespace)||r&&r!==o.selector&&("**"!==r||!o.selector)||(f.splice(i,1),o.selector&&f.delegateCount--,p.remove&&p.remove.call(e,o));c&&!f.length&&(p.teardown&&!1!==p.teardown.call(e,h,v.handle)||k.removeEvent(e,d,v.handle),delete l[d])}else for(d in l)k.event.remove(e,d+t[u],n,r,!0);k.isEmptyObject(l)&&(delete v.handle,k._removeData(e,"events"))}},trigger:function(e,t,n,r){var a,i,o,s,c,u,l,p=[n||H],f=A.call(e,"type")?e.type:e,d=A.call(e,"namespace")?e.namespace.split("."):[];if(o=u=n=n||H,3!==n.nodeType&&8!==n.nodeType&&!J.test(f+k.event.triggered)&&(f.indexOf(".")>=0&&(d=f.split("."),f=d.shift(),d.sort()),i=f.indexOf(":")<0&&"on"+f,e=e[k.expando]?e:new k.Event(f,"object"==typeof e&&e),e.isTrigger=r?2:3,e.namespace=d.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:k.makeArray(t,[e]),c=k.event.special[f]||{},r||!c.trigger||!1!==c.trigger.apply(n,t))){if(!r&&!c.noBubble&&!k.isWindow(n)){for(s=c.delegateType||f,J.test(s+f)||(o=o.parentNode);o;o=o.parentNode)p.push(o),u=o;u===(n.ownerDocument||H)&&p.push(u.defaultView||u.parentWindow||window)}for(l=0;(o=p[l++])&&!e.isPropagationStopped();)e.type=l>1?s:c.bindType||f,a=(k._data(o,"events")||{})[e.type]&&k._data(o,"handle"),a&&a.apply(o,t),(a=i&&o[i])&&a.apply&&k.acceptData(o)&&(e.result=a.apply(o,t),!1===e.result&&e.preventDefault());if(e.type=f,!r&&!e.isDefaultPrevented()&&(!c._default||!1===c._default.apply(p.pop(),t))&&k.acceptData(n)&&i&&n[f]&&!k.isWindow(n)){u=n[i],u&&(n[i]=null),k.event.triggered=f;try{n[f]()}catch(e){}k.event.triggered=void 0,u&&(n[i]=u)}return e.result}},dispatch:function(e){e=k.event.fix(e);var t,n,r,a,i,o=[],s=b.call(arguments),c=(k._data(this,"events")||{})[e.type]||[],u=k.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,e)){for(o=k.event.handlers.call(this,e,c),t=0;(a=o[t++])&&!e.isPropagationStopped();)for(e.currentTarget=a.elem,i=0;(r=a.handlers[i++])&&!e.isImmediatePropagationStopped();)e.namespace_re&&!e.namespace_re.test(r.namespace)||(e.handleObj=r,e.data=r.data,void 0!==(n=((k.event.special[r.origType]||{}).handle||r.handler).apply(a.elem,s))&&!1===(e.result=n)&&(e.preventDefault(),e.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,a,i,o=[],s=t.delegateCount,c=e.target;if(s&&c.nodeType&&(!e.button||"click"!==e.type))for(;c!=this;c=c.parentNode||this)if(1===c.nodeType&&(!0!==c.disabled||"click"!==e.type)){for(a=[],i=0;i<s;i++)r=t[i],n=r.selector+" ",void 0===a[n]&&(a[n]=r.needsContext?k(n,this).index(c)>=0:k.find(n,this,null,[c]).length),a[n]&&a.push(r);a.length&&o.push({elem:c,handlers:a})}return s<t.length&&o.push({elem:this,handlers:t.slice(s)}),o},fix:function(e){if(e[k.expando])return e;var t,n,r,a=e.type,i=e,o=this.fixHooks[a];for(o||(this.fixHooks[a]=o=W.test(a)?this.mouseHooks:X.test(a)?this.keyHooks:{}),r=o.props?this.props.concat(o.props):this.props,e=new k.Event(i),t=r.length;t--;)n=r[t],e[n]=i[n];return e.target||(e.target=i.srcElement||H),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,o.filter?o.filter(e,i):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,a,i=t.button,o=t.fromElement;return null==e.pageX&&null!=t.clientX&&(r=e.target.ownerDocument||H,a=r.documentElement,n=r.body,e.pageX=t.clientX+(a&&a.scrollLeft||n&&n.scrollLeft||0)-(a&&a.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(a&&a.scrollTop||n&&n.scrollTop||0)-(a&&a.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&o&&(e.relatedTarget=o===e.target?t.toElement:o),e.which||void 0===i||(e.which=1&i?1:2&i?3:4&i?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==safeActiveElement()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){if(this===safeActiveElement()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(k.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(e){return k.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var a=k.extend(new k.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?k.event.trigger(a,null,t):k.event.dispatch.call(t,a),a.isDefaultPrevented()&&n.preventDefault()}},k.removeEvent=H.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&(typeof e[r]===U&&(e[r]=null),e.detachEvent(r,n))},k.Event=function(e,t){return this instanceof k.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?c:u):this.type=e,t&&k.extend(this,t),this.timeStamp=e&&e.timeStamp||k.now(),void(this[k.expando]=!0)):new k.Event(e,t)};var q=/^(?:input|select|textarea)$/i,X=/^key/,W=/^(?:mouse|pointer|contextmenu)|click/,J=/^(?:focusinfocus|focusoutblur)$/,Y=/^([^.]*)(?:\.(.+)|)$/;k.Event.prototype={isDefaultPrevented:u,isPropagationStopped:u,isImmediatePropagationStopped:u,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=c,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=c,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=c,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},j.submitBubbles||(k.event.special.submit={setup:function(){return!k.nodeName(this,"form")&&void k.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,n=k.nodeName(t,"input")||k.nodeName(t,"button")?t.form:void 0;n&&!k._data(n,"submitBubbles")&&(k.event.add(n,"submit._submit",function(e){e._submit_bubble=!0}),k._data(n,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&k.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return!k.nodeName(this,"form")&&void k.event.remove(this,"._submit")}}),j.changeBubbles||(k.event.special.change={setup:function(){return q.test(this.nodeName)?("checkbox"!==this.type&&"radio"!==this.type||(k.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),k.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),k.event.simulate("change",this,e,!0)})),!1):void k.event.add(this,"beforeactivate._change",function(e){var t=e.target;q.test(t.nodeName)&&!k._data(t,"changeBubbles")&&(k.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||k.event.simulate("change",this.parentNode,e,!0)}),k._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type)return e.handleObj.handler.apply(this,arguments)},teardown:function(){return k.event.remove(this,"._change"),!q.test(this.nodeName)}}),j.focusinBubbles||k.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){k.event.simulate(t,e.target,k.event.fix(e),!0)};k.event.special[t]={setup:function(){var r=this.ownerDocument||this,a=k._data(r,t);a||r.addEventListener(e,n,!0),k._data(r,t,(a||0)+1)},teardown:function(){var r=this.ownerDocument||this,a=k._data(r,t)-1;a?k._data(r,t,a):(r.removeEventListener(e,n,!0),k._removeData(r,t))}}}),k.fn.extend({on:function(e,t,n,r,a){var i,o;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=void 0);for(i in e)this.on(i,t,n,e[i],a);return this}if(null==n&&null==r?(r=t,n=t=void 0):null==r&&("string"==typeof t?(r=n,n=void 0):(r=n,n=t,t=void 0)),!1===r)r=u;else if(!r)return this;return 1===a&&(o=r,r=function(e){return k().off(e),o.apply(this,arguments)},r.guid=o.guid||(o.guid=k.guid++)),this.each(function(){k.event.add(this,e,r,n,t)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,t,n){var r,a;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,k(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(a in e)this.off(a,t,e[a]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=u),this.each(function(){k.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){k.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return k.event.trigger(e,t,n,!0)}}),k.fn.delay=function(e,t){return e=k.fx?k.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})};var $=k.now(),K=/\?/,G=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;k.parseJSON=function(e){if(window.JSON&&window.JSON.parse)return window.JSON.parse(e+"");var t,n=null,r=k.trim(e+"");return r&&!k.trim(r.replace(G,function(e,r,a,i){return t&&r&&(n=0),0===n?e:(t=a||r,n+=!i-!a,"")}))?Function("return "+r)():k.error("Invalid JSON: "+e)},k.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{window.DOMParser?(n=new DOMParser,t=n.parseFromString(e,"text/xml")):(t=new ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.loadXML(e))}catch(e){t=void 0}return t&&t.documentElement&&!t.getElementsByTagName("parsererror").length||k.error("Invalid XML: "+e),t};var V,Q,Z=/#.*$/,ee=/([?&])_=[^&]*/,te=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,ne=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,re=/^(?:GET|HEAD)$/,ae=/^\/\//,ie=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,oe={},se={},ce="*/".concat("*");try{Q=location.href}catch(e){Q=H.createElement("a"),Q.href="",Q=Q.href}V=ie.exec(Q.toLowerCase())||[],k.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Q,type:"GET",isLocal:ne.test(V[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ce,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":k.parseJSON,"text xml":k.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?f(f(e,k.ajaxSettings),t):f(k.ajaxSettings,e)},ajaxPrefilter:l(oe),ajaxTransport:l(se),ajax:function(e,t){function n(e,t,n,r){var a,l,p,x,w,T=t;2!==S&&(S=2,s&&clearTimeout(s),u=void 0,o=r||"",E.readyState=e>0?4:0,a=e>=200&&e<300||304===e,n&&(x=d(f,E,n)),x=h(f,x,E,a),a?(f.ifModified&&(w=E.getResponseHeader("Last-Modified"),w&&(k.lastModified[i]=w),(w=E.getResponseHeader("etag"))&&(k.etag[i]=w)),204===e||"HEAD"===f.type?T="nocontent":304===e?T="notmodified":(T=x.state,l=x.data,p=x.error,a=!p)):(p=T,!e&&T||(T="error",e<0&&(e=0))),E.status=e,E.statusText=(t||T)+"",a?y.resolveWith(g,[l,T,E]):y.rejectWith(g,[E,T,p]),E.statusCode(b),b=void 0,c&&v.trigger(a?"ajaxSuccess":"ajaxError",[E,f,a?l:p]),m.fireWith(g,[E,T]),c&&(v.trigger("ajaxComplete",[E,f]),--k.active||k.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var r,a,i,o,s,c,u,l,f=k.ajaxSetup({},t),g=f.context||f,v=f.context&&(g.nodeType||g.jquery)?k(g):k.event,y=k.Deferred(),m=k.Callbacks("once memory"),b=f.statusCode||{},x={},w={},S=0,T="canceled",E={readyState:0,getResponseHeader:function(e){var t;if(2===S){if(!l)for(l={};t=te.exec(o);)l[t[1].toLowerCase()]=t[2];t=l[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===S?o:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return S||(e=w[n]=w[n]||e,x[e]=t),this},overrideMimeType:function(e){return S||(f.mimeType=e),this},statusCode:function(e){var t;if(e)if(S<2)for(t in e)b[t]=[b[t],e[t]];else E.always(e[E.status]);return this},abort:function(e){var t=e||T;return u&&u.abort(t),n(0,t),this}};if(y.promise(E).complete=m.add,E.success=E.done,E.error=E.fail,f.url=((e||f.url||Q)+"").replace(Z,"").replace(ae,V[1]+"//"),f.type=t.method||t.type||f.method||f.type,f.dataTypes=k.trim(f.dataType||"*").toLowerCase().match(L)||[""],null==f.crossDomain&&(r=ie.exec(f.url.toLowerCase()),f.crossDomain=!(!r||r[1]===V[1]&&r[2]===V[2]&&(r[3]||("http:"===r[1]?"80":"443"))===(V[3]||("http:"===V[1]?"80":"443")))),f.data&&f.processData&&"string"!=typeof f.data&&(f.data=k.param(f.data,f.traditional)),p(oe,f,t,E),2===S)return E;c=f.global,c&&0==k.active++&&k.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!re.test(f.type),i=f.url,f.hasContent||(f.data&&(i=f.url+=(K.test(i)?"&":"?")+f.data,delete f.data),!1===f.cache&&(f.url=ee.test(i)?i.replace(ee,"$1_="+$++):i+(K.test(i)?"&":"?")+"_="+$++)),f.ifModified&&(k.lastModified[i]&&E.setRequestHeader("If-Modified-Since",k.lastModified[i]),k.etag[i]&&E.setRequestHeader("If-None-Match",k.etag[i])),(f.data&&f.hasContent&&!1!==f.contentType||t.contentType)&&E.setRequestHeader("Content-Type",f.contentType),E.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+ce+"; q=0.01":""):f.accepts["*"]);for(a in f.headers)E.setRequestHeader(a,f.headers[a]);if(f.beforeSend&&(!1===f.beforeSend.call(g,E,f)||2===S))return E.abort();T="abort";for(a in{success:1,error:1,complete:1})E[a](f[a]);if(u=p(se,f,t,E)){E.readyState=1,c&&v.trigger("ajaxSend",[E,f]),f.async&&f.timeout>0&&(s=setTimeout(function(){E.abort("timeout")},f.timeout));try{S=1,u.send(x,n)}catch(e){if(!(S<2))throw e;n(-1,e)}}else n(-1,"No Transport");return E},getJSON:function(e,t,n){return k.get(e,t,n,"json")},getScript:function(e,t){return k.get(e,void 0,t,"script")}}),k.each(["get","post"],function(e,t){k[t]=function(e,n,r,a){return k.isFunction(n)&&(a=a||r,r=n,n=void 0),k.ajax({url:e,type:t,dataType:a,data:n,success:r})}}),k.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){k.fn[t]=function(e){return this.on(t,e)}}),k._evalUrl=function(e){return k.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})};var ue=/%20/g,le=/\[\]$/,pe=/\r?\n/g,fe=/^(?:submit|button|image|reset|file)$/i,de=/^(?:input|select|textarea|keygen)/i;k.param=function(e,t){var n,r=[],a=function(e,t){t=k.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=k.ajaxSettings&&k.ajaxSettings.traditional),k.isArray(e)||e.jquery&&!k.isPlainObject(e))k.each(e,function(){a(this.name,this.value)});else for(n in e)g(n,e[n],t,a);return r.join("&").replace(ue,"+")},k.fn.extend({serialize:function(){return k.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=k.prop(this,"elements");return e?k.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!k(this).is(":disabled")&&de.test(this.nodeName)&&!fe.test(e)&&(this.checked||!rcheckableType.test(e))}).map(function(e,t){var n=k(this).val();return null==n?null:k.isArray(n)?k.map(n,function(e){return{name:t.name,value:e.replace(pe,"\r\n")}}):{name:t.name,value:n.replace(pe,"\r\n")}}).get()}}),k.ajaxSettings.xhr=void 0!==window.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&v()||y()}:v;var he=0,ge={},ve=k.ajaxSettings.xhr();window.ActiveXObject&&k(window).on("unload",function(){for(var e in ge)ge[e](void 0,!0)}),j.cors=!!ve&&"withCredentials"in ve,ve=j.ajax=!!ve,ve&&k.ajaxTransport(function(e){if(!e.crossDomain||j.cors){var t;return{send:function(n,r){var a,i=e.xhr(),o=++he;if(i.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)i[a]=e.xhrFields[a];e.mimeType&&i.overrideMimeType&&i.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(a in n)void 0!==n[a]&&i.setRequestHeader(a,n[a]+"");i.send(e.hasContent&&e.data||null),t=function(n,a){var s,c,u;if(t&&(a||4===i.readyState))if(delete ge[o],t=void 0,i.onreadystatechange=k.noop,a)4!==i.readyState&&i.abort();else{u={},s=i.status,"string"==typeof i.responseText&&(u.text=i.responseText);try{c=i.statusText}catch(e){c=""}s||!e.isLocal||e.crossDomain?1223===s&&(s=204):s=u.text?200:404}u&&r(s,c,u,i.getAllResponseHeaders())},e.async?4===i.readyState?setTimeout(t):i.onreadystatechange=ge[o]=t:t()},abort:function(){t&&t(void 0,!0)}}}}),k.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return k.globalEval(e),e}}}),k.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),k.ajaxTransport("script",function(e){if(e.crossDomain){var t,n=H.head||k("head")[0]||H.documentElement;return{send:function(r,a){t=H.createElement("script"),t.async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,n){(n||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,n||a(200,"success"))},n.insertBefore(t,n.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}});var ye=[],me=/(=)\?(?=&|$)|\?\?/;return k.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=ye.pop()||k.expando+"_"+$++;return this[e]=!0,e}}),k.ajaxPrefilter("json jsonp",function(e,t,n){var r,a,i,o=!1!==e.jsonp&&(me.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&me.test(e.data)&&"data");if(o||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=k.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,o?e[o]=e[o].replace(me,"$1"+r):!1!==e.jsonp&&(e.url+=(K.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return i||k.error(r+" was not called"),i[0]},e.dataTypes[0]="json",a=window[r],window[r]=function(){i=arguments},n.always(function(){window[r]=a,e[r]&&(e.jsonpCallback=t.jsonpCallback,ye.push(r)),i&&k.isFunction(a)&&a(i[0]),i=a=void 0}),"script"}),k.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||H;var r=rsingleTag.exec(e),a=!n&&[];return r?[t.createElement(r[1])]:(r=k.buildFragment([e],t,a),a&&a.length&&k(a).remove(),k.merge([],r.childNodes))},k}(),n=function(){function e(e,s,c){var u,d,h,g,v,y,m,b,x,w=0,S=[],T=0,E=!1,A=[],j=[],_=!1;if(c=c||{},u=c.encoding||"UTF8",(x=c.numRounds||1)!==parseInt(x,10)||1>x)throw Error("numRounds must a integer >= 1");if("SHA-1"!==e)throw Error("Chosen SHA variant is not supported");v=512,y=p,m=f,g=160,b=function(e){return e.slice()},h=o(s,u),d=l(e),this.setHMACKey=function(t,n,r){var a;if(!0===E)throw Error("HMAC key already set");if(!0===_)throw Error("Cannot set HMAC key after calling update");if(u=(r||{}).encoding||"UTF8",n=o(n,u)(t),t=n.binLen,n=n.value,a=v>>>3,r=a/4-1,a<t/8){for(n=m(n,t,0,l(e),g);n.length<=r;)n.push(0);n[r]&=4294967040}else if(a>t/8){for(;n.length<=r;)n.push(0);n[r]&=4294967040}for(t=0;t<=r;t+=1)A[t]=909522486^n[t],j[t]=1549556828^n[t];d=y(A,d),w=v,E=!0},this.update=function(e){var t,n,r,a=0,i=v>>>5;for(t=h(e,S,T),e=t.binLen,n=t.value,t=e>>>5,r=0;r<t;r+=i)a+v<=e&&(d=y(n.slice(r,r+i),d),a+=v);w+=a,S=n.slice(a>>>5),T=e%v,_=!0;return function(e){for(var t="",n=0;n<5;n++)for(var r=0;r<4;r++){var a=e[n]>>>8*r;a&=255;var i=Number(a).toString(16);i=i.length<2?"0"+i:i,t+=i}return t}(d)},this.getHash=function(o,s){var c,u,p,f;if(!0===E)throw Error("Cannot call getHash after setting HMAC key");switch(p=i(s),o){case"HEX":c=function(e){return t(e,g,p)};break;case"B64":c=function(e){return n(e,g,p)};break;case"BYTES":c=function(e){return r(e,g)};break;case"ARRAYBUFFER":try{u=new ArrayBuffer(0)}catch(e){throw Error("ARRAYBUFFER not supported by this environment")}c=function(e){return a(e,g)};break;default:throw Error("format must be HEX, B64, BYTES, or ARRAYBUFFER")}for(f=m(S.slice(),T,w,b(d),g),u=1;u<x;u+=1)f=m(f,g,0,l(e),g);return c(f)},this.getHMAC=function(o,s){var c,u,p,f;if(!1===E)throw Error("Cannot call getHMAC without first setting HMAC key");switch(p=i(s),o){case"HEX":c=function(e){return t(e,g,p)};break;case"B64":c=function(e){return n(e,g,p)};break;case"BYTES":c=function(e){return r(e,g)};break;case"ARRAYBUFFER":try{c=new ArrayBuffer(0)}catch(e){throw Error("ARRAYBUFFER not supported by this environment")}c=function(e){return a(e,g)};break;default:throw Error("outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER")}return u=m(S.slice(),T,w,b(d),g),f=y(j,l(e)),f=m(u,g,v,f,g),c(f)}}function t(e,t,n){var r="";t/=8;var a,i;for(a=0;a<t;a+=1)i=e[a>>>2]>>>8*(3+a%4*-1),r+="0123456789abcdef".charAt(i>>>4&15)+"0123456789abcdef".charAt(15&i);return n.outputUpper?r.toUpperCase():r}function n(e,t,n){var r,a,i,o="",s=t/8;for(r=0;r<s;r+=3)for(a=r+1<s?e[r+1>>>2]:0,i=r+2<s?e[r+2>>>2]:0,i=(e[r>>>2]>>>8*(3+r%4*-1)&255)<<16|(a>>>8*(3+(r+1)%4*-1)&255)<<8|i>>>8*(3+(r+2)%4*-1)&255,a=0;4>a;a+=1)o+=8*r+6*a<=t?"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(i>>>6*(3-a)&63):n.b64Pad;return o}function r(e,t){var n,r,a="",i=t/8;for(n=0;n<i;n+=1)r=e[n>>>2]>>>8*(3+n%4*-1)&255,a+=String.fromCharCode(r);return a}function a(e,t){var n,r=t/8,a=new ArrayBuffer(r);for(n=0;n<r;n+=1)a[n]=e[n>>>2]>>>8*(3+n%4*-1)&255;return a}function i(e){var t={outputUpper:!1,b64Pad:"=",shakeLen:-1};if(e=e||{},t.outputUpper=e.outputUpper||!1,!0===e.hasOwnProperty("b64Pad")&&(t.b64Pad=e.b64Pad),"boolean"!=typeof t.outputUpper)throw Error("Invalid outputUpper formatting option");if("string"!=typeof t.b64Pad)throw Error("Invalid b64Pad formatting option");return t}function o(e,t){var n;switch(t){case"UTF8":case"UTF16BE":case"UTF16LE":break;default:throw Error("encoding must be UTF8, UTF16BE, or UTF16LE")}switch(e){case"HEX":n=function(e,t,n){var r,a,i,o,s,c=e.length;if(0!=c%2)throw Error("String of HEX type must be in byte increments");for(t=t||[0],n=n||0,s=n>>>3,r=0;r<c;r+=2){if(a=parseInt(e.substr(r,2),16),isNaN(a))throw Error("String of HEX type contains invalid characters");for(o=(r>>>1)+s,i=o>>>2;t.length<=i;)t.push(0);t[i]|=a<<8*(3+o%4*-1)}return{value:t,binLen:4*c+n}};break;case"TEXT":n=function(e,n,r){var a,i,o,s,c,u,l,p,f=0;if(n=n||[0],r=r||0,c=r>>>3,"UTF8"===t)for(p=3,o=0;o<e.length;o+=1)for(a=e.charCodeAt(o),i=[],128>a?i.push(a):2048>a?(i.push(192|a>>>6),i.push(128|63&a)):55296>a||57344<=a?i.push(224|a>>>12,128|a>>>6&63,128|63&a):(o+=1,a=65536+((1023&a)<<10|1023&e.charCodeAt(o)),i.push(240|a>>>18,128|a>>>12&63,128|a>>>6&63,128|63&a)),s=0;s<i.length;s+=1){for(l=f+c,u=l>>>2;n.length<=u;)n.push(0);n[u]|=i[s]<<8*(p+l%4*-1),f+=1}else if("UTF16BE"===t||"UTF16LE"===t)for(p=2,o=0;o<e.length;o+=1){for(a=e.charCodeAt(o),"UTF16LE"===t&&(s=255&a,a=s<<8|a>>>8),l=f+c,u=l>>>2;n.length<=u;)n.push(0);n[u]|=a<<8*(p+l%4*-1),f+=2}return{value:n,binLen:8*f+r}};break;case"B64":n=function(e,t,n){var r,a,i,o,s,c,u,l=0;if(-1===e.search(/^[a-zA-Z0-9=+\/]+$/))throw Error("Invalid character in base-64 string");if(a=e.indexOf("="),e=e.replace(/\=/g,""),-1!==a&&a<e.length)throw Error("Invalid '=' found in base-64 string");for(t=t||[0],n=n||0,c=n>>>3,a=0;a<e.length;a+=4){for(s=e.substr(a,4),i=o=0;i<s.length;i+=1)r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(s[i]),o|=r<<18-6*i;for(i=0;i<s.length-1;i+=1){for(u=l+c,r=u>>>2;t.length<=r;)t.push(0);t[r]|=(o>>>16-8*i&255)<<8*(3+u%4*-1),l+=1}}return{value:t,binLen:8*l+n}};break;case"BYTES":n=function(e,t,n){var r,a,i,o,s;for(t=t||[0],n=n||0,i=n>>>3,a=0;a<e.length;a+=1)r=e.charCodeAt(a),s=a+i,o=s>>>2,t.length<=o&&t.push(0),t[o]|=r<<8*(3+s%4*-1);return{value:t,binLen:8*e.length+n}};break;case"ARRAYBUFFER":try{n=new ArrayBuffer(0)}catch(e){throw Error("ARRAYBUFFER not supported by this environment")}n=function(e,t,n){var r,a,i,o;for(t=t||[0],n=n||0,a=n>>>3,r=0;r<e.byteLength;r+=1)o=r+a,i=o>>>2,t.length<=i&&t.push(0),t[i]|=e[r]<<8*(3+o%4*-1);return{value:t,binLen:8*e.byteLength+n}};break;default:throw Error("format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER")}return n}function s(e,t){return e<<t|e>>>32-t}function c(e,t){var n=(65535&e)+(65535&t);return((e>>>16)+(t>>>16)+(n>>>16)&65535)<<16|65535&n}function u(e,t,n,r,a){var i=(65535&e)+(65535&t)+(65535&n)+(65535&r)+(65535&a);return((e>>>16)+(t>>>16)+(n>>>16)+(r>>>16)+(a>>>16)+(i>>>16)&65535)<<16|65535&i}function l(e){if("SHA-1"!==e)throw Error("No SHA variants supported");return[1732584193,4023233417,2562383102,271733878,3285377520]}function p(e,t){var n,r,a,i,o,l,p,f=[];for(n=t[0],r=t[1],a=t[2],i=t[3],o=t[4],p=0;80>p;p+=1)f[p]=16>p?e[p]:s(f[p-3]^f[p-8]^f[p-14]^f[p-16],1),l=20>p?u(s(n,5),r&a^~r&i,o,1518500249,f[p]):40>p?u(s(n,5),r^a^i,o,1859775393,f[p]):60>p?u(s(n,5),r&a^r&i^a&i,o,2400959708,f[p]):u(s(n,5),r^a^i,o,3395469782,f[p]),o=i,i=a,a=s(r,30),r=n,n=l;return t[0]=c(n,t[0]),t[1]=c(r,t[1]),t[2]=c(a,t[2]),t[3]=c(i,t[3]),t[4]=c(o,t[4]),t}function f(e,t,n,r){var a;for(a=15+(t+65>>>9<<4);e.length<=a;)e.push(0);for(e[t>>>5]|=128<<24-t%32,t+=n,e[a]=4294967295&t,e[a-1]=t/4294967296|0,t=e.length,a=0;a<t;a+=16)r=p(e.slice(a,a+16),r);return r}return e}();!function(t,n){e.exports=n()}(0,function(){"use strict";function e(e){this.appid=e.appid,this.bucket=e.bucket,this.region=e.region,this.sha1CacheExpired=259200,this.uploadMaxThread=5,this.uploadMaxRetryTimes=3,this._uploadingThreadCount=0,this.tasks=[],e.getAppSign&&(this.getAppSign=r(e.getAppSign,this)),e.getAppSignOnce&&(this.getAppSignOnce=r(e.getAppSignOnce,this))}function r(e,t){return function(n){e.call(t,function(e){decodeURIComponent(e)===e&&(e=encodeURIComponent(e)),n(e)})}}function a(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}function i(e,t){if(!e)return"";var n=this;return e=e.replace(/(^\/*)/g,""),e="folder"==t?encodeURIComponent(e+"/").replace(/%2F/g,"/"):encodeURIComponent(e).replace(/%2F/g,"/"),n&&(n.path="/"+n.appid+"/"+n.bucket+"/"+e),e}function o(e){var r,a=t.Deferred(),i=new n("SHA-1","BYTES"),o=0,s=e.sliceSize,c=new FileReader,u=[],l=e.file,f=l.size;e.session&&(r=v(e.session));var d=function(e){u.push(e);var t=e.offset+"-"+e.datalen;return!r||!r[t]||e.datasha===r[t]};return c.onload=function(t){if("cancel"!==e.globalTask.state&&l&&!(l.length<1)){var n=i.update(this.content||this.result),r=o+s>f?f-o:s,h=o+r<f,g=h?n:i.getHash("HEX");if(!d({offset:o,datalen:r,datasha:g}))return void a.reject("sha1 not match");o+=r,e.onprogress(0,o/f),h?p.call(c,l.slice(o,Math.min(o+s,f))):a.resolve(u)}},p.call(c,l.slice(o,o+s)),c.onerror=function(){a.reject()},a.promise()}function s(e){var n=t.Deferred(),r=e.file,a=this,i=this.getCgiUrl(e.path,e.sign),o=new FormData,s=e.uploadparts;return o.append("uploadparts",JSON.stringify(s)),o.append("sha",e.sha),o.append("op","upload_slice_init"),o.append("filesize",r.size),o.append("slice_size",e.sliceSize),o.append("biz_attr",e.biz_attr),o.append("insertOnly",e.insertOnly),t.ajax({type:"POST",dataType:"JSON",url:i,data:o,success:function(t){if("cancel"!==e.globalTask.state)if(t=t||{},0==t.code){if(t.data.access_url)return void n.resolve(t);var r=t.data.session,i=parseInt(t.data.slice_size),o=t.data.offset||0;e.session=r,e.slice_size=i,e.offset=o,c.call(a,e).done(function(e){n.resolve(e)}).fail(function(e){n.reject(e)});for(var s,u={},l=1;l<e.uploadparts.length;l*=2)s=e.uploadparts[l-1],u[s.offset+"-"+s.datalen]=s.datasha;s=e.uploadparts[e.uploadparts.length-1],u[s.offset+"-"+s.datalen]=s.datasha,g(e.session,u,a.sha1CacheExpired)}else n.reject(t)},error:function(){n.reject()},processData:!1,contentType:!1}),n.promise()}function c(e){var n,r=this,a=e.file,i=t.Deferred(),o={opt:e,uploadingAjax:[],uploadingCount:0,currentIndex:0,chunkCount:Math.ceil(a.size/e.slice_size),chunks:[],loadedSize:0,uploadError:!1,onTaskProgress:function(t){var r=function(){n=0,e.onprogress&&e.onprogress(o.loadedSize/a.size,1)};if(t)clearTimeout(n),r();else{if(n)return;n=setTimeout(r,100)}}};!function(){var t,n={};if(e.listparts)for(t=0;t<e.listparts.length;t++)n[e.listparts[t].offset]=e.listparts[t];for(t=0;t<o.chunkCount;t++){var r=t*e.slice_size,i=Math.min(r+e.slice_size,a.size),s={start:r,end:i,size:i-r};n[r]?(o.loadedSize+=s.size,s.state="online"):s.state="waiting",o.chunks.push(s)}}();var s=function(){o.onTaskProgress(!0),i.resolve()},c=function(e,t){o.uploadError="error";for(var n=o.uploadingAjax.length-1;n>=0;n--){var r=o.uploadingAjax[n];r&&r.abort()}o.onTaskProgress(!0),i.reject(t)};e.globalTask.cancelRequests=function(){for(var e=o.uploadingAjax.length-1;e>=0;e--){var t=o.uploadingAjax[e];t&&t.abort()}};var u=function(){if("cancel"!==e.globalTask.state){for(;r._uploadingThreadCount<r.uploadMaxThread&&o.currentIndex<o.chunkCount;o.currentIndex++){var t=o.chunks[o.currentIndex];"waiting"===t.state&&function(e){e.state="uploading",o.uploadingCount++,r._uploadingThreadCount++,y.call(r,o,e,function(t,n){o.uploadingCount--,r._uploadingThreadCount--,t?(e.state="error",c(0,n)):(e.state="success",o.uploadingCount<=0&&o.currentIndex>=o.chunkCount?s():u())})}(t)}0===o.uploadingCount&&o.currentIndex===o.chunks.length&&s()}};return u(),i.promise()}function u(e){var n=this,r=t.Deferred(),a=e.file;return n.getAppSign(function(i){e.sign=i;var o=n.getCgiUrl(e.path,e.sign),s=new FormData;s.append("op","upload_slice_list"),t.ajax({type:"POST",dataType:"JSON",url:o,data:s,success:function(t){if(t=t||{},0==t.code){e.session=t.data.session,e.slice_size=t.data.slice_size;var n=t.data.listparts||[];e.listparts=n;var i=n.length;if(i){var o=e.listparts[i-1],s=o.offset;if(s+o.datalen>a.size)return r.resolve(),r.promise();e.offset=s}r.resolve(t)}else r.reject(t)},error:function(){r.reject()},processData:!1,contentType:!1})}),r.promise()}function l(e){var n=this,r=t.Deferred(),a=e.file;return n.getAppSign(function(i){e.sign=i;var o=e.session,s=n.getCgiUrl(e.path,e.sign),c=new FormData;e.sha&&c.append("sha",e.sha),c.append("op","upload_slice_finish"),c.append("filesize",a.size),c.append("session",o),t.ajax({type:"POST",dataType:"JSON",url:s,data:c,success:function(e){e=e||{},0==e.code?r.resolve(e):r.reject(e)},error:function(){r.reject()},processData:!1,contentType:!1})}),r.promise()}function p(e){var t;FileReader.prototype.readAsBinaryString?t=FileReader.prototype.readAsBinaryString:FileReader.prototype.readAsArrayBuffer?t=function(e){var t="",n=this,r=new FileReader;r.onload=function(e){for(var a=new Uint8Array(r.result),i=a.byteLength,o=0;o<i;o++)t+=String.fromCharCode(a[o]);n.content=t,n.onload()},r.readAsArrayBuffer(e)}:console.error("FileReader not support readAsBinaryString"),t.call(this,e)}var f=524288,d=1048576;e.version="1.1.9",e.prototype.cosapi_cgi_url="//REGION.file.myqcloud.com/files/v2/",e.prototype.slice=File.prototype.slice||File.prototype.mozSlice||File.prototype.webkitSlice,e.prototype.sliceSize=3145728,e.prototype.getExpired=function(e){return(new Date).getTime()/1e3+(e||60)},e.prototype.getSliceSize=function(e){return e<=f?f:d},e.prototype.set=function(e){e&&(this.appid=e.appid,this.bucket=e.bucket,this.region=e.region,e.getAppSign&&(this.getAppSign=e.getAppSign),e.getAppSignOnce&&(this.getAppSignOnce=e.getAppSignOnce))},e.prototype.getCgiUrl=function(e,t){var n=this.region,r=this.bucket,a=this.cosapi_cgi_url;return(a=a.replace("REGION",n))+this.appid+"/"+r+"/"+e+"?sign="+t},e.prototype.getAppSign=function(e,n,r){var a=this.getExpired(),i=this.sign_url+"?sign_type=appSign&expired="+a+"&bucketName="+r;t.ajax({url:i,type:"GET",success:e,error:n})},e.prototype.getAppSignOnce=function(e,n,r,a){var i=this.sign_url+"?sign_type=appSign_once&path="+encodeURIComponent(r)+"&bucketName="+a;t.ajax({url:i,type:"GET",success:e,error:n})},e.prototype.updateFolder=function(e,t,n,r,a){r=i.call(this,r,"folder"),this.updateBase(e,t,n,r,a)},e.prototype.updateFile=function(e,t,n,r,a){r=i.call(this,r),this.updateBase(e,t,n,r,a)},e.prototype.updateBase=function(e,n,r,a,i,o,s){var c=this;c.getAppSignOnce(function(r){var u=c.getCgiUrl(a,r),l=new FormData;l.append("op","update"),i&&l.append("biz_attr",i),o&&l.append("authority",o),s&&(s=JSON.stringify(s),l.append("customHeaders",s)),t.ajax({type:"POST",url:u,processData:!1,contentType:!1,data:l,success:e,error:n})})},e.prototype.deleteFolder=function(e,t,n,r){r=i.call(this,r,"folder"),this.deleteBase(e,t,n,r)},e.prototype.deleteFile=function(e,t,n,r){r=i.call(this,r),this.deleteBase(e,t,n,r)},e.prototype.deleteBase=function(e,n,r,a){if("/"==a)return void n({code:10003,message:"不能删除Bucket"});var i=this;this.getAppSignOnce(function(r){var o=i.getCgiUrl(a,r),s=new FormData;s.append("op","delete"),t.ajax({type:"POST",url:o,data:s,processData:!1,contentType:!1,success:e,error:n})})},e.prototype.getFolderStat=function(e,t,n,r){r=i(r,"folder"),this.statBase(e,t,n,r)},e.prototype.getFileStat=function(e,t,n,r){r=i(r),this.statBase(e,t,n,r)},e.prototype.statBase=function(e,n,r,a){var i=this;this.getAppSign.call(i,function(r){var o=i.getCgiUrl(a,r),s={op:"stat"};t.ajax({url:o,type:"GET",data:s,success:e,error:n})})},e.prototype.createFolder=function(e,n,r,a,o){var s=this;this.getAppSign(function(r){a=i(a,"folder");var c=s.getCgiUrl(a,r),u=new FormData;u.append("op","create"),u.append("biz_attr",o||""),t.ajax({type:"POST",url:c,data:u,processData:!1,contentType:!1,success:e,error:n})})},e.prototype.copyFile=function(e,n,r,a,o,s){var c=this;this.getAppSign(function(r){a=i(a);var u=c.getCgiUrl(a,r),l=new FormData;l.append("op","copy"),l.append("dest_fileid",o),l.append("to_over_write",s),t.ajax({type:"POST",url:u,data:l,processData:!1,contentType:!1,success:e,error:n})})},e.prototype.moveFile=function(e,n,r,a,o,s){var c=this;this.getAppSign(function(r){a=i(a);var u=c.getCgiUrl(a,r),l=new FormData;l.append("op","move"),l.append("dest_fileid",o),l.append("to_over_write",s),t.ajax({type:"POST",url:u,data:l,processData:!1,contentType:!1,success:e,error:n})})},e.prototype.getFolderList=function(e,t,n,r,a,o,s,c,u){var l=this;r=i(r,"folder"),l.listBase(e,t,n,r,a,o,s,c)},e.prototype.listBase=function(e,n,r,a,i,o,s,c,u){var l=this;l.getAppSign(function(r){var u=l.getCgiUrl(a,r);i=i||20,s=s||0,c=c||"eListBoth";var p={op:"list",num:i,context:o,order:s,pattern:c};t.ajax({url:u,type:"GET",data:p,success:e,error:n})})},e.prototype.uploadFile=function(e,n,r,o,s,c,u,l){var p=this;if(c.size>20971520)return void p.sliceUploadFile(e,n,r,o,s,c,u,void 0,void 0,l);if("/"===s.substr(s.length-1))return void n({code:-1,message:'path not allow end with "/"'});s=i(s);var f,d=a(),h={id:d,state:"uploading",cancel:function(){f&&f.abort()}};this.tasks[d]=h,l&&"function"==typeof l&&l(d),p.getAppSign(function(n){var a=p.getCgiUrl(s,n),i=new FormData;u=0===u?0:1,i.append("op","upload"),i.append("fileContent",c),i.append("insertOnly",u),f=t.ajax({type:"POST",url:a,data:i,processData:!1,contentType:!1,xhr:function(){var e=t.ajaxSettings.xhr();return e.upload.onprogress=function(e){var t=e.loaded/e.total;"function"==typeof r&&r(t,0)},e},success:function(){"cancel"!==h.state&&e.apply(this,arguments)},error:function(){"cancel"!==h.state&&e.apply(this,arguments)}})})},e.prototype.sliceUploadFile=function(e,t,n,r,p,f,d,h,g,v){if("/"===p.substr(p.length-1))return void t({code:-1,message:'path not allow end with "/"'});var y=a(),m={id:y,state:"uploading",cancelRequests:null,cancel:function(){m.cancelRequests&&m.cancelRequests()}};this.tasks[y]=m,v&&"function"==typeof v&&v(y);var b=this;p=i(p),b.getAppSign(function(a){var i={};i.globalTask=m,"cancel"!==i.globalTask.state&&(h=b.getSliceSize(h),i.bucket=r,i.path=p,i.file=f,i.insertOnly=0===d?0:1,i.sliceSize=h||1048576,i.appid=b.appid,i.sign=a,i.biz_attr=g||"",i.onprogress=function(e,t){void 0===t&&(t=1),n(e,t)},u.call(b,i).always(function(n){if("cancel"!==i.globalTask.state){n=n||{};var r=n.data;if(r&&r.session){if(r.filesize!==i.file.size)return t({code:-1,message:"filesize not match"});var a=i.listparts||[];if(i.session=r.session,i.listparts=a,a&&a.length){var u=a.length;i.offset=a[u-1].offset}r.sha&&(i.onlineSha=r.sha.split("_")[0]),o.call(b,i).done(function(n){if("cancel"!==i.globalTask.state){i.uploadparts=n;var r=n.length;i.sha=n[r-1].datasha,c.call(b,i).done(function(){l.call(b,i).done(function(t){e(t)}).fail(function(e){t({code:-1,message:e&&e.message||"slice finish error"})})}).fail(function(e){t({code:-1,message:e&&e.message||"slice upload file error"})})}}).fail(function(e){t({code:-1,message:e||"get slice sha1 error"})})}else r&&r.access_url&&0!==d?("function"==typeof i.onprogress&&i.onprogress(1,0),e(n)):o.call(b,i).done(function(n){if("cancel"!==i.globalTask.state){i.uploadparts=n;var r=n.length;i.sha=n[r-1].datasha,s.call(b,i).done(function(n){if("cancel"!==i.globalTask.state){n=n||{};var r=n.data||{};r&&r.access_url?("function"==typeof i.onprogress&&i.onprogress(1,0),e(n)):l.call(b,i).done(function(t){e(t)}).fail(function(e){t({code:-1,message:e.message||"slice finish error"})})}}).fail(function(e){e=e||{},t({code:e.code||-1,message:e.message||"upload slice file error"})})}}).fail(function(){t({code:-1,message:"get slice sha1 error"})})}}))})},e.prototype.cancelTask=function(e){var t=this.tasks[e];t&&(t.state="cancel",t.cancel())};var h="_cos_sdk_sha1_",g=function(e,t,n){try{var r=JSON.parse(localStorage.getItem(h))||{}}catch(e){}var a=Date.now();t.update_time=a,r[e]=t;for(var i=localStorage.length-1;i>=0;i--){var o=localStorage.key(i);a-localStorage.getItem(o).update_time>n&&localStorage.removeItem(o)}localStorage.setItem(h,JSON.stringify(r))},v=function(e){try{var t=JSON.parse(localStorage.getItem(h))||{}}catch(e){}return t[e]},y=function(e,n,r){var a=this,i=new FormData,o=e.opt,s=o.file,c=o.slice_size,u=o.session,l=s.size,p=n.start,f=Math.min(p+c,l),d=a.slice.call(s,p,f),h=d.size,g=function(t){for(var n=e.uploadingAjax.length-1;n>=0;n--)t===e.uploadingAjax[n]&&e.uploadingAjax.splice(n,1)},v=0,y=function(t,n){e.loadedSize+=t-v,v=t,e.onTaskProgress&&e.onTaskProgress(n)},m=function(n){i.append("sliceSize",c),i.append("op","upload_slice_data"),i.append("session",u),i.append("offset",p),o.sha&&i.append("sha",o.sha),i.append("fileContent",d),a.getAppSign(function(r){o.sign=r;var s=a.getCgiUrl(o.path,o.sign),c=t.ajax({type:"POST",dataType:"JSON",url:s,data:i,xhr:function(){var n=t.ajaxSettings.xhr();return n.upload.onprogress=function(t){y(t.loaded),e.onTaskProgress&&e.onTaskProgress()},n},success:function(e){y(h,!0),e=e||{},0===e.code?n(null,e):n("error",e)},error:function(){y(0,!0),n("error")},complete:function(){g(c)},processData:!1,contentType:!1});e.uploadingAjax.push(c)})},b=function(t){"cancel"!==o.globalTask.state&&m(function(n,i){n?t>=a.uploadMaxRetryTimes||e.uploadError?r(n,i):b(t+1):r(n,i)})};b(1)};return e})}()}});
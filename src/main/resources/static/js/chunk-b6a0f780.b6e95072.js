(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b6a0f780"],{1246:function(e,t,i){"use strict";!function(e,t){function i(t,i,n){e.WeixinJSBridge?WeixinJSBridge.invoke(t,o(i),function(e){a(t,e,n)}):d(t,n)}function n(t,i,n){e.WeixinJSBridge?WeixinJSBridge.on(t,function(e){n&&n.trigger&&n.trigger(e),a(t,e,i)}):d(t,n||i)}function o(e){return e=e||{},e.appId=C.appId,e.verifyAppId=C.appId,e.verifySignType="sha1",e.verifyTimestamp=C.timestamp+"",e.verifyNonceStr=C.nonceStr,e.verifySignature=C.signature,e}function s(e){return{timeStamp:e.timestamp+"",nonceStr:e.nonceStr,package:e.package,paySign:e.paySign,signType:e.signType||"SHA1"}}function a(e,t,i){var n,o;switch(delete t.err_code,delete t.err_desc,delete t.err_detail,n=t.errMsg,n||(n=t.err_msg,delete t.err_msg,n=c(e,n,i),t.errMsg=n),i=i||{},i._complete&&(i._complete(t),delete i._complete),n=t.errMsg||"",C.debug&&!i.isInnerInvoke&&alert(JSON.stringify(t)),o=n.indexOf(":"),n.substring(o+1)){case"ok":i.success&&i.success(t);break;case"cancel":i.cancel&&i.cancel(t);break;default:i.fail&&i.fail(t)}i.complete&&i.complete(t)}function c(e,t){var i,n,o,s;if(t){switch(i=t.indexOf(":"),e){case m.config:n="config";break;case m.openProductSpecificView:n="openProductSpecificView";break;default:n=t.substring(0,i),n=n.replace(/_/g," "),n=n.replace(/\b\w+\b/g,function(e){return e.substring(0,1).toUpperCase()+e.substring(1)}),n=n.substring(0,1).toLowerCase()+n.substring(1),n=n.replace(/ /g,""),-1!=n.indexOf("Wcpay")&&(n=n.replace("Wcpay","WCPay")),o=g[n],o&&(n=o)}s=t.substring(i+1),"confirm"==s&&(s="ok"),"failed"==s&&(s="fail"),-1!=s.indexOf("failed_")&&(s=s.substring(7)),-1!=s.indexOf("fail_")&&(s=s.substring(5)),s=s.replace(/_/g," "),s=s.toLowerCase(),("access denied"==s||"no permission to execute"==s)&&(s="permission denied"),"config"==n&&"function not exist"==s&&(s="ok"),t=n+":"+s}return t}function r(e){var t,i,n,o;if(e){for(t=0,i=e.length;i>t;++t)n=e[t],o=m[n],o&&(e[t]=o);return e}}function d(e,t){if(!(!C.debug||t&&t.isInnerInvoke)){var i=g[e];i&&(e=i),t&&t._complete&&delete t._complete,console.log('"'+e+'",',t||"")}}function u(){if(!("6.0.2">b||I.systemType<0)){var e=new Image;I.appId=C.appId,I.initTime=k.initEndTime-k.initStartTime,I.preVerifyTime=k.preVerifyEndTime-k.preVerifyStartTime,M.getNetworkType({isInnerInvoke:!0,success:function(t){I.networkType=t.networkType;var i="https://open.weixin.qq.com/sdk/report?v="+I.version+"&o="+I.isPreVerifyOk+"&s="+I.systemType+"&c="+I.clientVersion+"&a="+I.appId+"&n="+I.networkType+"&i="+I.initTime+"&p="+I.preVerifyTime+"&u="+I.url;e.src=i}})}}function l(){return(new Date).getTime()}function p(t){y&&(e.WeixinJSBridge?t():h.addEventListener&&h.addEventListener("WeixinJSBridgeReady",t,!1))}function f(){M.invoke||(M.invoke=function(t,i,n){e.WeixinJSBridge&&WeixinJSBridge.invoke(t,o(i),n)},M.on=function(t,i){e.WeixinJSBridge&&WeixinJSBridge.on(t,i)})}var m,g,h,v,_,y,S,w,b,k,I,C,T,x,M;if(!e.jWeixin)m={config:"preVerifyJSAPI",onMenuShareTimeline:"menu:share:timeline",onMenuShareAppMessage:"menu:share:appmessage",onMenuShareQQ:"menu:share:qq",onMenuShareWeibo:"menu:share:weiboApp",onMenuShareQZone:"menu:share:QZone",previewImage:"imagePreview",getLocation:"geoLocation",openProductSpecificView:"openProductViewWithPid",addCard:"batchAddCard",openCard:"batchViewCard",chooseWXPay:"getBrandWCPayRequest"},g=function(){var e,t={};for(e in m)t[m[e]]=e;return t}(),h=e.document,v=h.title,_=navigator.userAgent.toLowerCase(),y=-1!=_.indexOf("micromessenger"),S=-1!=_.indexOf("android"),w=-1!=_.indexOf("iphone")||-1!=_.indexOf("ipad"),b=function(){var e=_.match(/micromessenger\/(\d+\.\d+\.\d+)/)||_.match(/micromessenger\/(\d+\.\d+)/);return e?e[1]:""}(),k={initStartTime:l(),initEndTime:0,preVerifyStartTime:0,preVerifyEndTime:0},I={version:1,appId:"",initTime:0,preVerifyTime:0,networkType:"",isPreVerifyOk:1,systemType:w?1:S?2:-1,clientVersion:b,url:encodeURIComponent(location.href)},C={},T={_completes:[]},x={state:0,res:{}},p(function(){k.initEndTime=l()}),M={config:function(e){C=e,d("config",e);var t=!1!==C.check;p(function(){var e,n,o;if(t)i(m.config,{verifyJsApiList:r(C.jsApiList)},function(){T._complete=function(e){k.preVerifyEndTime=l(),x.state=1,x.res=e},T.success=function(){I.isPreVerifyOk=0},T.fail=function(e){T._fail?T._fail(e):x.state=-1};var e=T._completes;return e.push(function(){C.debug||u()}),T.complete=function(){for(var t=0,i=e.length;i>t;++t)e[t]();T._completes=[]},T}()),k.preVerifyStartTime=l();else{for(x.state=1,e=T._completes,n=0,o=e.length;o>n;++n)e[n]();T._completes=[]}}),C.beta&&f()},ready:function(e){0!=x.state?e():(T._completes.push(e),!y&&C.debug&&e())},error:function(e){"6.0.2">b||(-1==x.state?e(x.res):T._fail=e)},checkJsApi:function(e){var t=function(e){var t,i,n=e.checkResult;for(t in n)i=g[t],i&&(n[i]=n[t],delete n[t]);return e};i("checkJsApi",{jsApiList:r(e.jsApiList)},function(){return e._complete=function(e){if(S){var i=e.checkResult;i&&(e.checkResult=JSON.parse(i))}e=t(e)},e}())},onMenuShareTimeline:function(e){n(m.onMenuShareTimeline,{complete:function(){i("shareTimeline",{title:e.title||v,desc:e.title||v,img_url:e.imgUrl||"",link:e.link||location.href},e)}},e)},onMenuShareAppMessage:function(e){n(m.onMenuShareAppMessage,{complete:function(){i("sendAppMessage",{title:e.title||v,desc:e.desc||"",link:e.link||location.href,img_url:e.imgUrl||"",type:e.type||"link",data_url:e.dataUrl||""},e)}},e)},onMenuShareQQ:function(e){n(m.onMenuShareQQ,{complete:function(){i("shareQQ",{title:e.title||v,desc:e.desc||"",img_url:e.imgUrl||"",link:e.link||location.href},e)}},e)},onMenuShareWeibo:function(e){n(m.onMenuShareWeibo,{complete:function(){i("shareWeiboApp",{title:e.title||v,desc:e.desc||"",img_url:e.imgUrl||"",link:e.link||location.href},e)}},e)},onMenuShareQZone:function(e){n(m.onMenuShareQZone,{complete:function(){i("shareQZone",{title:e.title||v,desc:e.desc||"",img_url:e.imgUrl||"",link:e.link||location.href},e)}},e)},startRecord:function(e){i("startRecord",{},e)},stopRecord:function(e){i("stopRecord",{},e)},onVoiceRecordEnd:function(e){n("onVoiceRecordEnd",e)},playVoice:function(e){i("playVoice",{localId:e.localId},e)},pauseVoice:function(e){i("pauseVoice",{localId:e.localId},e)},stopVoice:function(e){i("stopVoice",{localId:e.localId},e)},onVoicePlayEnd:function(e){n("onVoicePlayEnd",e)},uploadVoice:function(e){i("uploadVoice",{localId:e.localId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},downloadVoice:function(e){i("downloadVoice",{serverId:e.serverId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},translateVoice:function(e){i("translateVoice",{localId:e.localId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},chooseImage:function(e){i("chooseImage",{scene:"1|2",count:e.count||9,sizeType:e.sizeType||["original","compressed"],sourceType:e.sourceType||["album","camera"]},function(){return e._complete=function(e){if(S){var t=e.localIds;t&&(e.localIds=JSON.parse(t))}},e}())},previewImage:function(e){i(m.previewImage,{current:e.current,urls:e.urls},e)},uploadImage:function(e){i("uploadImage",{localId:e.localId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},downloadImage:function(e){i("downloadImage",{serverId:e.serverId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},getNetworkType:function(e){var t=function(e){var t,i,n,o=e.errMsg;if(e.errMsg="getNetworkType:ok",t=e.subtype,delete e.subtype,t)e.networkType=t;else switch(i=o.indexOf(":"),n=o.substring(i+1)){case"wifi":case"edge":case"wwan":e.networkType=n;break;default:e.errMsg="getNetworkType:fail"}return e};i("getNetworkType",{},function(){return e._complete=function(e){e=t(e)},e}())},openLocation:function(e){i("openLocation",{latitude:e.latitude,longitude:e.longitude,name:e.name||"",address:e.address||"",scale:e.scale||28,infoUrl:e.infoUrl||""},e)},getLocation:function(e){e=e||{},i(m.getLocation,{type:e.type||"wgs84"},function(){return e._complete=function(e){delete e.type},e}())},hideOptionMenu:function(e){i("hideOptionMenu",{},e)},showOptionMenu:function(e){i("showOptionMenu",{},e)},closeWindow:function(e){e=e||{},i("closeWindow",{immediate_close:e.immediateClose||0},e)},hideMenuItems:function(e){i("hideMenuItems",{menuList:e.menuList},e)},showMenuItems:function(e){i("showMenuItems",{menuList:e.menuList},e)},hideAllNonBaseMenuItem:function(e){i("hideAllNonBaseMenuItem",{},e)},showAllNonBaseMenuItem:function(e){i("showAllNonBaseMenuItem",{},e)},scanQRCode:function(e){e=e||{},i("scanQRCode",{needResult:e.needResult||0,scanType:e.scanType||["qrCode","barCode"]},function(){return e._complete=function(e){var t,i;w&&(t=e.resultStr,t&&(i=JSON.parse(t),e.resultStr=i&&i.scan_code&&i.scan_code.scan_result))},e}())},openProductSpecificView:function(e){i(m.openProductSpecificView,{pid:e.productId,view_type:e.viewType||0},e)},addCard:function(e){var t,n,o,s,a=e.cardList,c=[];for(t=0,n=a.length;n>t;++t)o=a[t],s={card_id:o.cardId,card_ext:o.cardExt},c.push(s);i(m.addCard,{card_list:c},function(){return e._complete=function(e){var t,i,n,o=e.card_list;if(o){for(o=JSON.parse(o),t=0,i=o.length;i>t;++t)n=o[t],n.cardId=n.card_id,n.cardExt=n.card_ext,n.isSuccess=!!n.is_succ,delete n.card_id,delete n.card_ext,delete n.is_succ;e.cardList=o,delete e.card_list}},e}())},chooseCard:function(e){i("chooseCard",{app_id:C.appId,location_id:e.shopId||"",sign_type:e.signType||"SHA1",card_id:e.cardId||"",card_type:e.cardType||"",card_sign:e.cardSign,time_stamp:e.timestamp+"",nonce_str:e.nonceStr},function(){return e._complete=function(e){e.cardList=e.choose_card_info,delete e.choose_card_info},e}())},openCard:function(e){var t,n,o,s,a=e.cardList,c=[];for(t=0,n=a.length;n>t;++t)o=a[t],s={card_id:o.cardId,code:o.code},c.push(s);i(m.openCard,{card_list:c},e)},chooseWXPay:function(e){i(m.chooseWXPay,s(e),e)}},t&&(e.wx=e.jWeixin=M)}(window,!0),t["a"]=window.wx},2677:function(e,t,i){},4192:function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"page"},[e.list.length>0?i("div",e._l(e.list,function(t,n){return i("div",{key:n,staticClass:"order-item"},[i("div",{staticClass:"item-con"},[i("div",{staticClass:"pic"},[i("img",{attrs:{src:t.img}})]),i("div",{staticClass:"txt"},[i("div",{staticClass:"txt-con"},[i("div",{staticClass:"title"},[e._v(e._s(t.title))]),i("div",{staticClass:"title-right"},[0==t.state?i("span",{staticClass:"red"},[e._v("等待付款")]):e._e(),1==t.state?i("span",{staticClass:"red"},[e._v("等待测评")]):e._e(),2==t.state?i("span",{staticClass:"gray"},[e._v("已完成")]):e._e()])]),t.type1?i("div",{staticClass:"txt-con"},[i("div",{staticClass:"txt-left"},[e._v("方式：")]),i("div",{staticClass:"txt-right"},[e._v(e._s(t.type1))])]):e._e(),t.type2?i("div",{staticClass:"txt-con"},[i("div",{staticClass:"txt-left"},[e._v("讲解：")]),i("div",{staticClass:"txt-right"},[e._v(e._s(t.type2))])]):e._e(),i("div",{staticClass:"txt-con"},[i("div",{staticClass:"txt-left"},[e._v("人数：")]),i("div",{staticClass:"txt-right"},[e._v(e._s(t.num))])])])]),i("div",{staticClass:"price"},[e._v("\n                金额:"),i("span",[e._v("￥"+e._s(t.price/100))])]),i("div",{staticClass:"btn-group"},[2==t.state&&0==t.messageState?i("div",{staticClass:"btn btn1",on:{click:function(i){e.tomsg(t.id,t.gid)}}},[e._v("去评价")]):e._e(),2==t.state&&1==t.messageState?i("div",{staticClass:"btn btn1"},[e._v("已留言")]):e._e(),2==t.state?i("div",{staticClass:"btn btn1",on:{click:e.showModal1}},[e._v("约专家")]):e._e(),2==t.state?i("div",{staticClass:"btn btn1",on:{click:e.toreport}},[e._v("看报告")]):e._e(),1==t.state?i("div",{staticClass:"btn btn2",on:{click:function(i){e.toevalu(t.id)}}},[e._v("去测评")]):e._e(),0==t.state?i("div",{staticClass:"btn btn2",on:{click:function(i){e.pay(t.id,t.price)}}},[e._v("去支付")]):e._e()])])}),0):i("div",[i("div",{staticClass:"nodata"},[i("span",[e._v("您还没有相关订单～")]),i("div",{staticClass:"nobtn",on:{click:e.tohome}},[e._v("去看看")])])]),e.showModalStatus?i("div",{staticClass:"commodity_screen",on:{click:e.hideModal}}):e._e(),e.showModalStatus?i("div",{staticClass:"commodity_attr_box"},[i("div",{staticClass:"modal-title"},[e._v("评价")]),i("div",{staticClass:"modal-body"},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.text,expression:"text"}],staticClass:"textarea",attrs:{placeholder:"请输入您的评价反馈(不超过100字)",maxlength:"100"},domProps:{value:e.text},on:{input:function(t){t.target.composing||(e.text=t.target.value)}}})]),i("div",{staticClass:"cbtn",on:{click:e.submsg}},[e._v("确认")])]):e._e(),e.showModalStatus1?i("div",{staticClass:"commodity_screen",on:{click:e.hideModal}}):e._e(),e.showModalStatus1?i("div",{staticClass:"commodity_attr_box tels"},[i("div",{staticClass:"modal-title"}),i("div",{staticClass:"tel-con"},[e._v("\n            请致电好好选课VIP客服"),i("br"),i("span",[e._v("（"+e._s(e.telnum)+"）")]),e._v("进行专家预约。\n        ")]),i("a",{attrs:{href:"tel:"+e.telnum}},[i("div",{staticClass:"cbtn"},[e._v("呼叫")])])]):e._e()])},o=[],s=(i("cadf"),i("551c"),i("097d"),i("c24f")),a=i("c40e"),c=i("1246"),r={name:"myorder",data:function(){return{uid:0,oid:0,gid:0,list:[],text:"",telnum:"400-00000",showModalStatus:!1,showModalStatus1:!1}},mounted:function(){this.getList()},methods:{getList:function(){var e=this,t=new URLSearchParams;t.append("uid",localStorage.getItem("uid")),Object(s["c"])(t).then(function(t){var i=t.data;e.list=i.data})},showModal:function(){this.showModalStatus=!0},hideModal:function(){this.showModalStatus=!1,this.showModalStatus1=!1},showModal1:function(){this.showModalStatus1=!0},tomsg:function(e,t){this.oid=e,this.gid=t,this.text="",this.showModal()},tohome:function(){this.$router.push("/")},toreport:function(){this.$router.push("/ui/my/report")},toevalu:function(e){this.$router.push("/ui/my/evalu/"+e)},submsg:function(){var e=this,t=this,i=new URLSearchParams;i.append("uid",localStorage.getItem("uid")),i.append("gid",this.gid),i.append("oid",this.oid),i.append("message",this.text),Object(a["f"])(i).then(function(i){e.$vtoast({message:"留言成功！",type:"",position:"bottom",duration:"2000"}),t.hideModal(),t.getList()})},pay:function(e,t){var i=this,n=new URLSearchParams;n.append("openid",localStorage.getItem("openid")),n.append("total_fee",t),n.append("attach",e),n.append("body","好好选课--充值"),Object(a["e"])(n).then(function(e){var t=e.data;c["a"].config({debug:!0,appId:t.appId,timestamp:t.timeStamp,nonceStr:t.nonceStr,signature:t.paySign,jsApiList:["chooseWXPay"]}),c["a"].chooseWXPay({timestamp:t.timeStamp,nonceStr:t.nonceStr,package:t.package,signType:"MD5",paySign:t.paySign,success:function(e){"chooseWXPay:ok"==e.errMsg?(this.$toast({message:"支付成功！",type:"",position:"bottom",duration:"2000"}),i.getList()):this.$toast({message:"支付失败，请重新支付！",type:"",position:"bottom",duration:"2000"})},cancel:function(e){this.$toast({message:"支付被取消，请重新支付！",type:"",position:"bottom",duration:"2000"})}})})}}},d=r,u=(i("ecd4"),i("2877")),l=Object(u["a"])(d,n,o,!1,null,"31636de8",null);l.options.__file="order.vue";t["default"]=l.exports},c40e:function(e,t,i){"use strict";i.d(t,"d",function(){return o}),i.d(t,"b",function(){return s}),i.d(t,"a",function(){return a}),i.d(t,"c",function(){return c}),i.d(t,"e",function(){return r}),i.d(t,"f",function(){return d});var n=i("b775");function o(){return Object(n["a"])({url:"/goods/index",method:"get",params:""})}function s(e){return Object(n["a"])({url:"/goods/getGoodById",method:"get",params:e})}function a(e){return Object(n["a"])({url:"/goods/receiveCoupons",method:"post",data:e})}function c(e){return Object(n["a"])({url:"/user/orderGoods",method:"post",data:e})}function r(e){return Object(n["a"])({url:"/getSignWxPay",method:"post",data:e})}function d(e){return Object(n["a"])({url:"/message/leaveMessage",method:"post",data:e})}},ecd4:function(e,t,i){"use strict";var n=i("2677"),o=i.n(n);o.a}}]);